doctype html
html(lang="en")
    head
        meta(charset="UTF-8")
        meta(http-equiv="X-UA-Compatible", content="IE=edge")
        meta(name="viewport", content="width=device-width, initial-scale=1.0")
        link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous")
        <link rel="stylesheet" href="sweetalert2.min.css">
        title Document
    body 
    include ../components/navbar.pug
    include mixins/cardpost.pug
    if code >= 200 && code <= 204
        h1 Crea tu comentario
        div(class="mb-3")
            form(action="/posts" method="POST") 
                label(class="form-label") Categoria
                select(class="form-select" name="id_category")
                    option(selected) Elige una categoria
                    for categori in categorias 
                        option(value=categori.id)=categori.nombre
                label(for="" class="form-label") Titulo del comentario
                input(type="text" class="form-control" name="titulo")
                label(for="" class="form-label") Contenido del comentario
                textarea(name="contenido", cols="100", rows="10" class="form-control") 
                button(class="btn btn-primary") Crear Post
        for element in data
            - const url = element.id
            - const titulo = element.titulo 
            - const autor = element.usuarios.nombre 
            - const contenido = element.contenido
            +post(titulo, autor, contenido, url)
            h3(class="text-center") Comentarios
            for comentario in element.comentarios 
                div(class="container")
                    +comentario(comentario.usuarios.nombre, comentario.contenido)
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>